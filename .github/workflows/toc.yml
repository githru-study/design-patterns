name: Make TOC
on:
  push:
    branches:
      - main
jobs:
  runs:
    uses: actions/checkout@v2
    run: node .github/toc-maker.js
  - name: Commit and push if changed
    run: |-
      git diff
      git config --global user.email "41898282+github-actions[bot]@users.noreply.github.com"
      git config --global user.name "github-actions-bot"
      git add -A
      git commit -m "Updated blogpost" || exit 0
      git push
